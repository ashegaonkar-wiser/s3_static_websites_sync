<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DeclarativeNetRequest Resource Types Test</title>

  <!-- Stylesheet (should be blocked) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">

  <!-- Font (should be blocked) -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">


  <!-- Script (should be blocked) -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    // Inline script (should run, not blocked)
    document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('inline-js').textContent = 'Inline JS executed';
    });
  </script>
  <style>
    body { font-family: 'Lobster', Arial, sans-serif; }
</style>
</head>
<body>
  <h1>DeclarativeNetRequest Resource Types Test</h1>

  <button id="bootstrap-btn" class="btn btn-primary">Bootstrap Button</button>

  <!-- Image (should be blocked) -->
  <img id="test-img" src="https://placehold.co/80" alt="Should be blocked">

  <!-- Subframe (should be blocked) -->
  <iframe src="https://www.example.com" id="test-iframe"></iframe>

  <!-- Object/embed (should be blocked) -->
<object data="https://upload.wikimedia.org/wikipedia/commons/4/47/PNG_transparency_demonstration_1.png" type="image/png" width="200" height="100">
    <span id="object-fallback">Object failed to load</span>
</object>

  <!-- Media (should be blocked) -->
  <audio controls src="https://www.w3schools.com/html/horse.mp3"></audio>
  <video controls width="200">
    <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
  </video>

  <!-- XMLHttpRequest (should be blocked) -->
  <button onclick="fetchXHR()">Test XHR</button>
  <div id="xhr-result"></div>
  <script>
    function fetchXHR() {
      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'https://jsonplaceholder.typicode.com/todos/1', true);
      xhr.onload = function() {
        document.getElementById('xhr-result').textContent = 'XHR result: ' + xhr.responseText;
      };
      xhr.onerror = function() {
        document.getElementById('xhr-result').textContent = 'XHR blocked or failed';
      };
      xhr.send();
    }
  </script>

  <!-- WebSocket (should be blocked) -->
  <button onclick="testWebSocket()">Test WebSocket</button>
  <div id="ws-result"></div>
  <script>
    function testWebSocket() {
      try {
        var ws = new WebSocket('wss://echo.websocket.org');
        ws.onopen = function() {
          document.getElementById('ws-result').textContent = 'WebSocket opened';
        };
        ws.onerror = function() {
          document.getElementById('ws-result').textContent = 'WebSocket blocked or failed';
        };
      } catch (e) {
        document.getElementById('ws-result').textContent = 'WebSocket error';
      }
    }
  </script>
  <script type="text/javascript">
    window.externalJsLoaded = typeof window.jQuery !== 'undefined';
  </script>

  <!-- Ping (should be blocked, but can't easily test visually) -->
  <a href="https://www.example.com" ping="https://httpbin.org/post">Test Ping</a>

  <!-- Inline JS status -->
  <div id="inline-js">Inline JS not executed</div>
</body>
</html>